<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="AsciiDoc 8.6.10">
<title>Installation</title>
<link rel="stylesheet" href="style/asciidoc.css" type="text/css">


</head>
<body class="article">
<div id="header">
<h1>Installation</h1>
<span id="author">Alexander Gutev</span><br>
<span id="email" class="monospaced">&lt;<a href="mailto:alex.gutev@gmail.com">alex.gutev@gmail.com</a>&gt;</span><br>
</div>
<div id="content">
<div class="sect1">
<h2 id="_binaries">Binaries</h2>
<div class="sectionbody">
<div class="paragraph"><p>Prebuilt binaries are available for x86-64 Linux, Mac OS X/macOS and
Windows at: <a href="https://github.com/alex-gutev/tridash/releases/latest">https://github.com/alex-gutev/tridash/releases/latest</a>.</p></div>
<div class="sect2">
<h3 id="_windows">Windows</h3>
<div class="paragraph"><p>Download <span class="monospaced">tridash-*-x64-setup.exe</span> and run the installer.</p></div>
</div>
<div class="sect2">
<h3 id="_linux_and_mac_os_x_macos">Linux and Mac OS X/macOS</h3>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Download the tarball for your operating system:
</p>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">linux_x86_64.tar.gz</span> for Linux
</p>
</li>
<li>
<p>
<span class="monospaced">darwin_x86_64.tar.gz</span> for Mac OS X/macOS.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Unpack the tarball to a directory of your choice.
</p>
</li>
<li>
<p>
Navigate to the directory, where the tarball was unpacked, in the
   terminal.
</p>
</li>
<li>
<p>
Run <span class="monospaced">sudo ./install.sh</span>. This will install the <span class="monospaced">tridashc</span>
   executable and its related files in the <span class="monospaced">/usr/local</span> prefix.
</p>
</li>
</ol></div>
<div class="paragraph"><p>To uninstall navigate to the directory, where the tarball was
unpacked, and run <span class="monospaced">sudo ./uninstall.sh</span>.</p></div>
<div class="paragraph"><p><em>Once Tridash is installed, the directory to which the tarball was
unpacked can be removed.</em></p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_from_source">Building from source</h2>
<div class="sectionbody">
<div class="paragraph"><p>The <span class="monospaced">README.md</span> file, in the source distribution, contains build
instructions for Linux and Unix-like systems. Download the
<span class="monospaced">tridash-*.tar.gz</span> tarball, from
<a href="github.com/alex-gutev/tridash/releases">releases</a>, rather than
cloning the repository, or downloading the raw source code, as it
contains a few non-source, files which have been pre-generated. If you
clone the repository you will need to generate the following yourself:</p></div>
<div class="ulist"><ul>
<li>
<p>
A <span class="monospaced">configure</span> script, generated with <a href="https://www.gnu.org/software/autoconf/">autoconf</a>.
</p>
</li>
<li>
<p>
Man and info pages, generated from AsciiDoc sources with <span class="monospaced">a2x</span>,
      <em>see <a href="http://asciidoc.org">http://asciidoc.org</a></em>.
</p>
</li>
<li>
<p>
A minified version of the JavaScript runtime library, which is
      compiled from multiple JS source files with
      <a href="https://github.com/mishoo/UglifyJS2/tree/harmony">uglify-es</a>.
</p>
</li>
</ul></div>
<div class="sect2">
<h3 id="_building_without_make">Building Without Make</h3>
<div class="paragraph"><p>The following instructions are for building the Tridash compiler
directly without using the makefile. This is useful for systems which
do not provide a <span class="monospaced">make</span> executable or a shell compatible with the
Bourne shell, such as Windows.</p></div>
<div class="paragraph"><p>The same prerequisites apply: you&#8217;ll need a Common Lisp compiler, such
as <a href="http://www.sbcl.org">SBCL</a>, and
<a href="https://www.quicklisp.org/beta/">Quicklisp</a>. Consult the README
for more information.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Run SBCL or the Common Lisp implementation of your choice, making
   sure to load the <span class="monospaced">tridash.asd</span> file:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>sbcl --load tridash<span style="color: #990000">.</span>asd</tt></pre></div></div>
<div class="paragraph"><p>This launches the Common Lisp REPL.</p></div>
</li>
<li>
<p>
Run <span class="monospaced">(ql:quickload :tridash)</span> in the REPL.
</p>
</li>
<li>
<p>
Run <span class="monospaced">(asdf:make :tridash)</span> to compile the <span class="monospaced">tridashc</span> executable. If
   all went well the <span class="monospaced">tridashc</span> executable should have been created in
   the same directory.
</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">Your Common Lisp implementation may exit after creating the
executable. This is normal.</td>
</tr></table>
</div>
</li>
</ol></div>
<div class="sect3">
<h4 id="_changing_the_paths">Changing the Paths</h4>
<div class="paragraph"><p>This builds a <span class="monospaced">tridashc</span> executable, with the builtin module search
paths set to <span class="monospaced">/usr/local/share/tridash/modules</span>,
<span class="monospaced">/usr/share/tridash/modules</span> and <span class="monospaced">~/.tridash/modules</span>, and the
JavaScript runtime library path set to
<span class="monospaced">/usr/local/share/tridash/backends/javascript/tridash.js</span>. These paths
can be changed with the <span class="monospaced">TRIDASH_MODULE_PATHS</span> environment variable,
which contains a semicolon <span class="monospaced">;</span> separated list of paths to search for
modules, and <span class="monospaced">TRIDASH_JS_RUNTIME</span> which contains the full path to the
Tridash JavaScript runtime library.</p></div>
<div class="paragraph"><p>Alternatively, the builtin paths can be changed, between steps 2 and
3, prior to compiling the executable. This requires some knowledge of
Common Lisp. To change the module search paths, set the variable
<span class="monospaced">tridash::*module-search-paths*</span> to a list of <span class="monospaced">pathname</span> objects of
the module directories. For example (in the Common Lisp REPL):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #FF0000">(</span><span style="font-weight: bold"><span style="color: #0000FF">setf</span></span> tridash::*module-search-paths*
       <span style="color: #FF0000">(</span><span style="font-weight: bold"><span style="color: #0000FF">list</span></span> #p<span style="color: #FF0000">"/usr/local/share/tridash/modules"</span>
             #p<span style="color: #FF0000">"/usr/share/tridash/modules"</span>
             #p<span style="color: #FF0000">"~/.tridash/modules"</span><span style="color: #FF0000">))</span></tt></pre></div></div>
<div class="paragraph"><p>To change the path to the JavaScript runtime library, set the
<span class="monospaced">tridash.backend.js::*runtime-library-path*</span> to the <span class="monospaced">pathname</span> object
corresponding to the runtime library path:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #FF0000">(</span><span style="font-weight: bold"><span style="color: #0000FF">setf</span></span> tridash.backend.js::*runtime-library-path*
      #p<span style="color: #FF0000">"/usr/local/share/tridash/backends/javascript/tridash.js)</span></tt></pre></div></div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated
 2019-09-24 18:56:44 CEST
</div>
</div>
</body>
</html>
